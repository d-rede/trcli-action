on:
  workflow_dispatch:
  
name: TRCLI action experiment

jobs:
  trcli_action_job:
    name: TRCLI Action test
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Create file
        run: echo 'This is a test' > data.txt
      - name: Execute TRCLI Action
        uses: d-rede/trcli-action@main
        with:
          config: './cenas/config.yml'
          host: 'https://testrail101.testrail.io'
          username: 'diogo.rede@testrail.com'
          password: 'somePW'
          project: 'project'
          project_id: '123'
          verbose: 'true'
          verify: 'false'
          insecure: 'false'
          batch_size: '2'
          timeout: '50'
          auto_create_cases_yes: 'false'
          auto_create_cases_no: 'true'
          silent: 'true'
          report_file_path: './report.xml'
          title: 'My title'
          close_run: 'false'
          case_matcher: 'name_OK'
          suite_id: '12'
          run_id: '24'
          milestone_id: '3'
          run_description: 'my run cool description ${{ github.server_url }}'
          special_parser: 'none'
          allow_ms: 'false'
          junit_parser_params: '--case_fields whatever_field:"my value"'
